<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="800" height="500" fill="#0f0f1e"/>

    <!-- Title -->
    <text x="400" y="30" font-size="24" font-weight="bold" fill="#ffffff" text-anchor="middle">
        Demo Stack Architecture
    </text>

    <!-- Browser / Client Layer -->
    <g>
        <text x="400" y="70" font-size="13" fill="#a0a0b0" text-anchor="middle">Your Computer</text>

        <!-- GraphQL IDE -->
        <rect x="50" y="100" width="140" height="80" fill="#5c6bff" rx="8"/>
        <text x="120" y="125" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">GraphQL IDE</text>
        <text x="120" y="145" font-size="11" fill="#ffffff" text-anchor="middle">Apollo Sandbox</text>
        <text x="120" y="162" font-size="10" fill="#a0a0b0" text-anchor="middle">:3000</text>

        <!-- Tutorial -->
        <rect x="330" y="100" width="140" height="80" fill="#ff6b9d" rx="8"/>
        <text x="400" y="125" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">Tutorial</text>
        <text x="400" y="145" font-size="11" fill="#ffffff" text-anchor="middle">Interactive Learning</text>
        <text x="400" y="162" font-size="10" fill="#a0a0b0" text-anchor="middle">:3001</text>

        <!-- Web Browser indicator -->
        <rect x="610" y="100" width="140" height="80" fill="#4ade80" rx="8"/>
        <text x="680" y="125" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">Browser</text>
        <text x="680" y="145" font-size="11" fill="#ffffff" text-anchor="middle">HTTP/WebSocket</text>
        <text x="680" y="162" font-size="10" fill="#a0a0b0" text-anchor="middle">localhost</text>
    </g>

    <!-- Connection lines -->
    <line x1="120" y1="180" x2="120" y2="220" stroke="#a0a0b0" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="400" y1="180" x2="400" y2="220" stroke="#a0a0b0" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Docker Container -->
    <rect x="30" y="220" width="740" height="260" fill="#2a2a3e" stroke="#5c6bff" stroke-width="2" stroke-dasharray="5,5" rx="8"/>
    <text x="50" y="245" font-size="12" fill="#5c6bff" font-weight="bold">Docker Container (fraiseql-demo)</text>

    <!-- FraiseQL Server -->
    <g>
        <rect x="50" y="270" width="180" height="100" fill="#5c6bff" rx="8"/>
        <text x="140" y="295" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">FraiseQL Server</text>
        <text x="140" y="315" font-size="10" fill="#ffffff" text-anchor="middle">GraphQL Engine</text>
        <text x="140" y="330" font-size="10" fill="#ffffff" text-anchor="middle">(Compiled Schema)</text>
        <text x="140" y="348" font-size="10" fill="#a0a0b0" text-anchor="middle">:8000 /graphql</text>
    </g>

    <!-- PostgreSQL -->
    <g>
        <rect x="310" y="270" width="180" height="100" fill="#ff6b9d" rx="8"/>
        <text x="400" y="295" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">PostgreSQL</text>
        <text x="400" y="315" font-size="10" fill="#ffffff" text-anchor="middle">Blog Database</text>
        <text x="400" y="330" font-size="10" fill="#ffffff" text-anchor="middle">(3 users, 4 posts)</text>
        <text x="400" y="348" font-size="10" fill="#a0a0b0" text-anchor="middle">:5432</text>
    </g>

    <!-- Network -->
    <g>
        <rect x="570" y="270" width="180" height="100" fill="#4ade80" rx="8"/>
        <text x="660" y="295" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">fraiseql-demo</text>
        <text x="660" y="315" font-size="10" fill="#ffffff" text-anchor="middle">Docker Network</text>
        <text x="660" y="330" font-size="10" fill="#ffffff" text-anchor="middle">(Service Discovery)</text>
        <text x="660" y="348" font-size="10" fill="#a0a0b0" text-anchor="middle">Bridge Mode</text>
    </g>

    <!-- Connection arrows -->
    <line x1="230" y1="320" x2="310" y2="320" stroke="#a0a0b0" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="270" y="310" font-size="10" fill="#a0a0b0" text-anchor="middle">SQL</text>

    <line x1="140" y1="270" x2="660" y2="320" stroke="#a0a0b0" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="350" y="265" font-size="10" fill="#a0a0b0">Network</text>

    <!-- Data flow -->
    <g>
        <text x="50" y="430" font-size="12" fill="#a0a0b0">Data Flow:</text>
        <text x="50" y="455" font-size="11" fill="#ffffff">1. User opens GraphQL IDE (browser)</text>
        <text x="50" y="475" font-size="11" fill="#ffffff">2. Sends GraphQL query to FraiseQL Server</text>
    </g>

    <g>
        <text x="400" y="455" font-size="11" fill="#ffffff">3. Server generates SQL & executes on PostgreSQL</text>
        <text x="400" y="475" font-size="11" fill="#ffffff">4. Results formatted & returned as JSON</text>
    </g>

    <!-- Arrow marker -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#a0a0b0"/>
        </marker>
    </defs>
</svg>
