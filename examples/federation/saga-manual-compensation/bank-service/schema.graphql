extend schema @link(url: "https://specs.apollo.dev/federation/v2.0")

type Account @key(fields: "id") {
  id: ID!
  accountNumber: String!
  accountHolder: String!
  balance: Float!
  status: String!
}

type Transfer {
  transactionId: ID!
  status: String!
  fromBalance: Float
  toBalance: Float
  message: String
}

type Query {
  account(accountId: ID!): Account
}

type Mutation {
  transferMoney(fromAccountId: ID!, toAccountId: ID!, amount: Float!, transactionId: String!): Transfer!
  compensateTransfer(transactionId: String!): Transfer!
}
