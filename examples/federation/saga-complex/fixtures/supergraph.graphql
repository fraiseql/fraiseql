schema @link(url: "https://specs.apollo.dev/federation/v2.0") {
  query: Query
  mutation: Mutation
}

type Query {
  flight(id: ID!): Flight @join__field(graph: FLIGHT)
  hotel(id: ID!): Hotel @join__field(graph: HOTEL)
  car(id: ID!): Car @join__field(graph: CAR)
}

type Mutation {
  bookTravel(userId: ID!, flightId: ID!, hotelId: ID!, carId: ID!): Booking! @join__field(graph: FLIGHT)
}

type Flight @join__type(graph: FLIGHT, key: "id") {
  id: ID!
  departure: String!
  arrival: String!
  price: Float!
}

type Hotel @join__type(graph: HOTEL, key: "id") {
  id: ID!
  name: String!
  location: String!
  price: Float!
}

type Car @join__type(graph: CAR, key: "id") {
  id: ID!
  type: String!
  location: String!
  price: Float!
}

type Reservation {
  type: String!
  id: ID!
  status: String!
}

type Booking {
  bookingId: ID!
  status: String!
  reservations: [Reservation!]!
}

directive @join__field(graph: String, requires: String, provides: String, type: String, external: Boolean, override: String, usedOverridden: Boolean) repeatable on FIELD_DEFINITION
directive @join__type(graph: String, key: String, extension: Boolean, resolvable: Boolean, isInterfaceObject: Boolean) repeatable on OBJECT | INTERFACE | UNION | ENUM | SCALAR | INPUT_OBJECT
directive @join__union(graph: String, member: String) repeatable on UNION
directive @join__enumValue(graph: String) repeatable on ENUM_VALUE
directive @join__implements(graph: String, interface: String) repeatable on OBJECT | INTERFACE
directive @join__graph(name: String!, url: String!) on ENUM_VALUE
directive @link(url: String, as: String, for: String, import: [String]) repeatable on SCHEMA

enum join__Graph {
  FLIGHT @join__graph(name: "flight" url: "http://flight-service:4000/graphql")
  HOTEL @join__graph(name: "hotel" url: "http://hotel-service:4000/graphql")
  CAR @join__graph(name: "car" url: "http://car-service:4000/graphql")
  PAYMENT @join__graph(name: "payment" url: "http://payment-service:4000/graphql")
  NOTIFICATION @join__graph(name: "notification" url: "http://notification-service:4000/graphql")
}
