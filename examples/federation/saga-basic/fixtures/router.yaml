supergraph:
  listen: 0.0.0.0:4000
  path: /graphql

subgraphs:
  users:
    routing_url: http://users-service:4000/graphql
    healthcheck:
      enabled: true
      interval: 10s
      path: /health
      query: |
        query {
          __typename
        }

  orders:
    routing_url: http://orders-service:4000/graphql
    healthcheck:
      enabled: true
      interval: 10s
      path: /health
      query: |
        query {
          __typename
        }

  inventory:
    routing_url: http://inventory-service:4000/graphql
    healthcheck:
      enabled: true
      interval: 10s
      path: /health
      query: |
        query {
          __typename
        }

server:
  bind: 0.0.0.0
  port: 4000
  graphql_path: /graphql
  health_check_path: /health
  cors:
    origins:
      - http://localhost:*
      - http://127.0.0.1:*
  request_timeout: 30s
  shutdown_grace_period: 15s

traffic_shaping:
  router:
    timeout: 30s
    rate_limit:
      capacity: 100
      interval: 1s
  all_subgraphs:
    timeout: 10s
    rate_limit:
      capacity: 100
      interval: 1s

logging:
  level: info
  format: json

telemetry:
  instrumentation:
    enabled: true
  trace_config:
    sampler: always_on
