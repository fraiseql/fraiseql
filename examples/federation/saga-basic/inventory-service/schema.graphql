extend schema
  @link(url: "https://specs.apollo.dev/federation/v2.0")

type Product @key(fields: "id") {
  id: ID!
  name: String!
  stock: Int!
  price: Float!
}

type Reservation @key(fields: "id") {
  id: ID!
  orderId: ID!
  items: [ReservationItem!]!
  status: String!
  createdAt: String!
}

type ReservationItem {
  productId: ID!
  quantity: Int!
}

type Query {
  product(id: ID!): Product
  reservation(id: ID!): Reservation
}

type Mutation {
  reserveItems(items: [ReservationItemInput!]!, orderId: ID!): Reservation!
  releaseReservation(reservationId: ID!): Reservation!
}

input ReservationItemInput {
  productId: ID!
  quantity: Int!
}
