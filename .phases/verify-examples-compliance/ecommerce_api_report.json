{
  "example_name": "ecommerce_api",
  "total_files": 50,
  "files_checked": 50,
  "violations": [
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_profile",
      "description": "View customer_profile missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_profile",
      "description": "View customer_profile JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "shopping_cart",
      "description": "View shopping_cart missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "shopping_cart",
      "description": "View shopping_cart JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "order_detail",
      "description": "View order_detail missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "order_detail",
      "description": "View order_detail JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_orders",
      "description": "View customer_orders missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_orders",
      "description": "View customer_orders JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_reviews",
      "description": "View product_reviews missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_reviews",
      "description": "View product_reviews JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_wishlists",
      "description": "View customer_wishlists missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_wishlists",
      "description": "View customer_wishlists JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_addresses",
      "description": "View customer_addresses missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_addresses",
      "description": "View customer_addresses JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-001",
      "rule_name": "View: Must Expose id Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "order_analytics",
      "description": "View order_analytics missing direct 'id' column (needed for WHERE filtering)",
      "example_fix": "SELECT id, jsonb_build_object(...) as data FROM ..."
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "order_analytics",
      "description": "View order_analytics missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "order_analytics",
      "description": "View order_analytics JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-001",
      "rule_name": "View: Must Expose id Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "inventory_alerts",
      "description": "View inventory_alerts missing direct 'id' column (needed for WHERE filtering)",
      "example_fix": "SELECT id, jsonb_build_object(...) as data FROM ..."
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "inventory_alerts",
      "description": "View inventory_alerts missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/customer_order_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "inventory_alerts",
      "description": "View inventory_alerts JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "recently_viewed_products",
      "description": "Table recently_viewed_products missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "recently_viewed_products",
      "description": "Table recently_viewed_products could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_search",
      "description": "View product_search missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_search",
      "description": "View product_search JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_detail",
      "description": "View product_detail missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "product_detail",
      "description": "View product_detail JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "category_tree",
      "description": "View category_tree missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "category_tree",
      "description": "View category_tree JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "featured_products",
      "description": "View featured_products missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "featured_products",
      "description": "View featured_products JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "best_sellers",
      "description": "View best_sellers missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "best_sellers",
      "description": "View best_sellers JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "related_products",
      "description": "View related_products missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/views/product_views.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "related_products",
      "description": "View related_products JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/cart_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "add_to_cart",
      "description": "Function add_to_cart modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/cart_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_cart_item",
      "description": "Function update_cart_item modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/cart_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "clear_cart",
      "description": "Function clear_cart modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/cart_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "apply_coupon_to_cart",
      "description": "Function apply_coupon_to_cart modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/order_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "create_order_from_cart",
      "description": "Function create_order_from_cart modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/order_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_order_status",
      "description": "Function update_order_status modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/order_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "process_order_payment",
      "description": "Function process_order_payment modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/order_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "cancel_order",
      "description": "Function cancel_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "register_customer",
      "description": "Function register_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_customer_profile",
      "description": "Function update_customer_profile modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "add_customer_address",
      "description": "Function add_customer_address modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "add_to_wishlist",
      "description": "Function add_to_wishlist modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "submit_review",
      "description": "Function submit_review modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/functions/customer_functions.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "mark_review_helpful",
      "description": "Function mark_review_helpful modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "categories",
      "description": "Table categories missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "categories",
      "description": "Table categories could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "products",
      "description": "Table products missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "products",
      "description": "Table products could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_variants",
      "description": "Table product_variants missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_variants",
      "description": "Table product_variants could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "inventory",
      "description": "Table inventory missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "inventory",
      "description": "Table inventory could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_images",
      "description": "Table product_images missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_images",
      "description": "Table product_images could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "customers",
      "description": "Table customers missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "customers",
      "description": "Table customers could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "addresses",
      "description": "Table addresses missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "addresses",
      "description": "Table addresses could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "carts",
      "description": "Table carts missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "carts",
      "description": "Table carts could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "cart_items",
      "description": "Table cart_items missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "cart_items",
      "description": "Table cart_items could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "orders",
      "description": "Table orders missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "orders",
      "description": "Table orders could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "order_items",
      "description": "Table order_items missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "order_items",
      "description": "Table order_items could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "reviews",
      "description": "Table reviews missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "reviews",
      "description": "Table reviews could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "wishlists",
      "description": "Table wishlists missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "wishlists",
      "description": "Table wishlists could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "wishlist_items",
      "description": "Table wishlist_items missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "wishlist_items",
      "description": "Table wishlist_items could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "coupons",
      "description": "Table coupons missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/migrations/001_initial_schema.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "coupons",
      "description": "Table coupons could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/00_common/001_types/0013_cdc_logging.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "log_cdc_event",
      "description": "Function log_cdc_event modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/00_common/001_types/0013_cdc_logging.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "log_cdc_event",
      "description": "Advanced function log_cdc_event should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/00_common/001_types/0013_cdc_logging.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "notify_cdc_event",
      "description": "Advanced function notify_cdc_event should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/00_common/001_types/0012_mutation_utils.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "build_mutation_response",
      "description": "Advanced function build_mutation_response should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/022_order/02202_tv_order.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_order",
      "description": "Table tv_order missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/022_order/02202_tv_order.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_order",
      "description": "Table tv_order could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/020_customer/02002_tv_customer.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_customer",
      "description": "Table tv_customer missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/020_customer/02002_tv_customer.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_customer",
      "description": "Table tv_customer could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/020_customer/02003_customer_orders.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_orders",
      "description": "View customer_orders missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/020_customer/02003_customer_orders.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "customer_orders",
      "description": "View customer_orders JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02103_tv_product.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_product",
      "description": "Table tv_product missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02103_tv_product.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_product",
      "description": "Table tv_product could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02104_tv_category.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_category",
      "description": "Table tv_category missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02104_tv_category.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "tv_category",
      "description": "Table tv_category could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "VW-004",
      "rule_name": "View: Must Have data Column",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02105_products_with_categories.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "products_with_categories",
      "description": "View products_with_categories missing JSONB 'data' column",
      "example_fix": "SELECT ..., jsonb_build_object(...) AS data FROM ..."
    },
    {
      "rule_id": "VW-005",
      "rule_name": "View: JSONB Must Include id Field",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/02_read/021_product/02105_products_with_categories.sql",
      "line_number": null,
      "violation_type": "view",
      "entity_name": "products_with_categories",
      "description": "View products_with_categories JSONB missing 'id' field",
      "example_fix": "jsonb_build_object('id', id, ...)"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0322_update_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_order",
      "description": "Function update_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0323_delete_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "delete_order",
      "description": "Function delete_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0324_sync_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_order",
      "description": "Function sync_tv_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0324_sync_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_order",
      "description": "Advanced function sync_tv_order should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0324_sync_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_order_single",
      "description": "Function sync_tv_order_single modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0324_sync_order.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_order_single",
      "description": "Advanced function sync_tv_order_single should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0322_update_order_with_cdc.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_order",
      "description": "Function update_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/032_order_functions/0323_delete_order_with_cdc.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "delete_order",
      "description": "Function delete_order modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/010_customer_functions/0101_customer_mutations.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "create_customer",
      "description": "Function create_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/010_customer_functions/0101_customer_mutations.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_customer",
      "description": "Function update_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0314_sync_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_product",
      "description": "Function sync_tv_product modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0314_sync_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_product",
      "description": "Advanced function sync_tv_product should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0314_sync_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_product_single",
      "description": "Function sync_tv_product_single modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0314_sync_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_product_single",
      "description": "Advanced function sync_tv_product_single should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0313_delete_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "delete_product",
      "description": "Function delete_product modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/031_product_functions/0312_update_product.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_product",
      "description": "Function update_product modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0304_sync_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_customer",
      "description": "Function sync_tv_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0304_sync_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_customer",
      "description": "Advanced function sync_tv_customer should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0304_sync_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_customer_single",
      "description": "Function sync_tv_customer_single modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-003",
      "rule_name": "Mutation: Advanced Response Format",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0304_sync_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "sync_tv_customer_single",
      "description": "Advanced function sync_tv_customer_single should use app.build_mutation_response()",
      "example_fix": "RETURN app.build_mutation_response(true, 'SUCCESS', 'Message', jsonb_build_object(...));"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0303_delete_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "delete_customer",
      "description": "Function delete_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0302_update_customer.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_customer",
      "description": "Function update_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0303_delete_customer_with_cdc.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "delete_customer",
      "description": "Function delete_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "MF-002",
      "rule_name": "Mutation: Explicit Sync for tv_* Tables",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/03_functions/030_customer_functions/0302_update_customer_with_cdc.sql",
      "line_number": null,
      "violation_type": "function",
      "entity_name": "update_customer",
      "description": "Function update_customer modifies data but missing sync calls",
      "example_fix": "PERFORM app.sync_tv_entity(); after data modifications"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/030_orders/0302_tb_order_item.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "order_items",
      "description": "Table order_items missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/030_orders/0302_tb_order_item.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "order_items",
      "description": "Table order_items could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/030_orders/0301_tb_order.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "orders",
      "description": "Table orders missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/030_orders/0301_tb_order.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "orders",
      "description": "Table orders could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/010_customers/0102_tb_address.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "addresses",
      "description": "Table addresses missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/010_customers/0102_tb_address.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "addresses",
      "description": "Table addresses could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/010_customers/0101_tb_customer.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "customers",
      "description": "Table customers missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/010_customers/0101_tb_customer.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "customers",
      "description": "Table customers could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0203_tb_product_variant.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_variants",
      "description": "Table product_variants missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0203_tb_product_variant.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "product_variants",
      "description": "Table product_variants could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0202_tb_category.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "categories",
      "description": "Table categories missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0202_tb_category.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "categories",
      "description": "Table categories could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    },
    {
      "rule_id": "TR-001",
      "rule_name": "Trinity: INTEGER Primary Key",
      "severity": "ERROR",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0201_tb_product.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "products",
      "description": "Table products missing INTEGER pk_* primary key",
      "example_fix": "pk_user INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY"
    },
    {
      "rule_id": "TR-003",
      "rule_name": "Trinity: TEXT Identifier (Optional)",
      "severity": "INFO",
      "file_path": "examples/ecommerce_api/db/0_schema/01_core_domain/020_products/0201_tb_product.sql",
      "line_number": null,
      "violation_type": "table",
      "entity_name": "products",
      "description": "Table products could benefit from 'identifier TEXT UNIQUE' for SEO-friendly slugs",
      "example_fix": "identifier TEXT UNIQUE  -- Human-readable slug"
    }
  ],
  "compliance_score": 0.040000000000000036
}
